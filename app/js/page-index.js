"use strict";(self.webpackChunkgulp_builder=self.webpackChunkgulp_builder||[]).push([[765],{955:(e,t,a)=>{var n=a(83);const s=e=>{const{title:t,body:a}=e;return`\n        <li class="cards__item">\n            <article class="card">\n                <a href="#">\n                    <picture class="card__picture">\n                        <source srcset="img/card-image.avif" type="image/avif">\n                        <img loading="lazy" src="img/card-image.webp" class="card__image" width="320" height="185"\n                            alt="bridge">\n                    </picture>\n                </a>\n                <div class="card__content">\n                    <a href="#" class="card__tag">bridge</a>\n                    <a href="#">\n                        <h3 class="card__title">${t}</h3>\n                    </a>\n                    <p class="card__text">\n                        ${a}\n                    </p>\n                    <div class="card__autor">\n                        Posted by <b>Eugenia,</b> on <time datetime="2019-07-24">July  24, 2019</time>\n                    </div>\n                    <a href="#" class="btn-second">Continue reading</a>\n                </div>\n            </article>\n        </li>\n    `},r=document.querySelector("[data-load]"),c=document.querySelector(".cards__list"),i=document.querySelector(".cards__error"),o=r.dataset.total,d=r.dataset.initial,l=r.dataset.limit;let u=1;class m{static async getPosts(e,t){try{return await n.A.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:t,_page:e}})}catch(e){console.log(e)}}}document.addEventListener("DOMContentLoaded",(()=>{r.querySelector("span").textContent="Загружаем...",m.getPosts(u,d).then((e=>{e.data.map((e=>{c?.insertAdjacentHTML("beforeend",s(e)),r.querySelector("span").textContent="ЗАГРУЗИТЬ ЕЩЕ",u=2}))})).catch((e=>{r.querySelector("span").textContent="Попробовать снова",i.classList.add("show")})),r?.addEventListener("click",(()=>{u++,r.querySelector("span").textContent="загружаем...",u<=((e,t)=>Math.ceil(e/t))(o,l)?m.getPosts(u,l).then((e=>{e.data.map((e=>{c?.insertAdjacentHTML("beforeend",s(e)),r.querySelector("span").textContent="ЗАГРУЗИТЬ ЕЩЕ"}))})).catch((e=>{r.querySelector("span").textContent="Попробовать снова"})):(r.disabled=!0,r.querySelector("span").textContent="Достигнут лимит")}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=Array.from(document.querySelectorAll(".anim-item")),t=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting?(e.target.classList.add("anim-item--show"),e.target.classList.contains("anim-item--norepeat")&&t.unobserve(e.target)):e.target.classList.remove("anim-item--show")}))}),{threshold:0});e?.forEach((e=>t.observe(e)))}))}},e=>{e.O(0,[502],(()=>e(e.s=955))),e.O()}]);